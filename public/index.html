<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Student Wallet</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/mobile.css">
</head>

<body>
    <div class="app-container">
        <!-- Main Card Section -->
        <main class="main-content center-content">
            <div class="user-card glass-panel" id="userCard">
                <div class="card-header">
                    <span class="company-name">STUDENT WALLET</span>
                    <span class="user-role" id="userRoleBadge">ETUDIANT</span>
                </div>
                <div class="card-balance">
                    <span class="label">Solde</span>
                    <h1 id="balanceDisplay">---</h1>
                    <span class="currency">CREDITS</span>
                </div>
                <div class="card-footer">
                    <p id="userName">...</p>
                    <div class="qr-placeholder" id="qrCode">
                        <!-- QR Code or Pay Button -->
                        <button class="btn-scan" onclick="openPayModal()">
                            <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 4v16m8-8H4" />
                            </svg>
                            PAYER
                        </button>
                    </div>
                </div>
            </div>

            <!-- Recent Transactions Mini-List -->
            <div class="recent-activity">
                <h3>Activité Récente</h3>
                <div id="recentTransactionsList">
                    <p class="empty-text">Chargement...</p>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav glass-nav">
            <a href="/shop.html" class="nav-item">
                <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                </svg>
                <span>Shop</span>
            </a>
            <a href="/events.html" class="nav-item">
                <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
                <span>Events</span>
            </a>
            <a href="/" class="nav-item active">
                <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
                </svg>
                <span>Carte</span>
            </a>
            <a href="/profile.html" class="nav-item">
                <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
                <span>Profil</span>
            </a>
        </nav>
    </div>

    <!-- Pay Modal -->
    <div id="payModal" class="modal hidden">
        <div class="modal-content glass-panel">
            <button class="close-btn" onclick="closePayModal()">×</button>
            <h2>Payer le BDE</h2>
            <div class="form-group">
                <label>Montant (Crédits)</label>
                <input type="number" id="payAmount" placeholder="Ex: 5" min="1">
            </div>
            <div class="form-group">
                <label>Destinataire</label>
                <!-- In a real app, this would be a QR scan or list of nearby/select group -->
                <select id="payRecipientGroup">
                    <option value="" disabled selected>Choisir un BDE...</option>
                </select>
            </div>
            <button class="btn-primary" onclick="processPayment()">Confirmer</button>
        </div>
    </div>

    <script src="/js/app.js"></script>
</body>

</html>